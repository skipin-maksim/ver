{"version":3,"sources":["webpack:///./js/refs.js","webpack:///./js/toaster-settings.js","webpack:///./js/verification.js","webpack:///./js/handlers.js","webpack:///./js/spinner.js","webpack:///./index.js"],"names":["refs","toastr","options","closeButton","debug","newestOnTop","progressBar","positionClass","preventDuplicates","onclick","showDuration","hideDuration","timeOut","extendedTimeOut","showEasing","hideEasing","showMethod","hideMethod","loginWindow","document","querySelector","verificationForm","inputLogin","inputPassword","verificationBtn","exitBtn","fullUserName","spinner","promiseLogin","Promise","resolve","reject","dataUsers","addDesabledClassName","classList","add","addEventListener","e","event","preventDefault","login","value","toLowerCase","then","res","arr","password","isLoginOk","isPasswordOk","find","elem","textContent","fullName","name","findLoginUser","boolean","remove","desabled","setTimeout","localStorage","setItem","error","catch","console","log","removeItem","localUser","getItem"],"mappings":"sKAWeA,GCTSC,IAAOC,QAAU,CACvCC,aAAa,EACbC,OAAO,EACPC,aAAa,EACbC,aAAa,EACbC,cAAe,kBACfC,mBAAmB,EACnBC,QAAS,KACTC,aAAc,MACdC,aAAc,OACdC,QAAS,OACTC,gBAAiB,OACjBC,WAAY,QACZC,WAAY,SACZC,WAAY,SACZC,WAAY,WDjBD,CACXC,YAAaC,SAASC,cAAc,iBACpCC,iBAAkBF,SAASC,cAAc,sBACzCE,WAAYH,SAASC,cAAc,eACnCG,cAAeJ,SAASC,cAAc,cACtCI,gBAAiBL,SAASC,cAAc,2BACxCK,QAASN,SAASC,cAAc,aAChCM,aAAcP,SAASC,cAAc,mBACrCO,QAASR,SAASC,cAAc,sB,kCEDlC,IAAMQ,EAAe,IAAIC,SAAQ,SAACC,EAASC,GACzCD,EAAQE,MA0DV,SAASC,IACPjC,EAAKkB,YAAYgB,UAAUC,IAAI,YChEjCnC,EAAKwB,gBAAgBY,iBAAiB,SDWtC,SAA2BC,GACzBC,MAAMC,iBAEN,IAAMC,EAAQxC,EAAKsB,WAAWmB,MAAMC,cAEpCd,EACGe,MAAK,SAAAC,GAAG,OA2Bb,SAAuBC,GACrB,IAAML,EAAQxC,EAAKsB,WAAWmB,MAAMC,cAC9BI,EAAW9C,EAAKuB,cAAckB,MAEhCM,GAAY,EACZC,GAAe,EAWnB,OATAH,EAAII,MAAK,SAAAC,GAEP,OADAlD,EAAK0B,aAAayB,YAAcD,EAAKE,SAC9BF,EAAKG,OAASb,EAASO,GAAY,EAAQA,KAGpDF,EAAII,MAAK,SAAAC,GACP,OAAOA,EAAKJ,WAAaA,EAAYE,GAAe,EAAQA,QAGvDD,IAAaC,GA3CLM,CAAcV,MAC1BD,MAAK,SAAAY,GACAA,GElBRvD,EAAK2B,QAAQO,UAAUsB,OAAO,YFoBxBxD,EAAKsB,WAAWmC,SAChBzD,EAAKuB,cAAckC,SAEnBC,YAAW,WACTzB,IAEAjC,EAAKsB,WAAWmB,MAAQ,GACxBzC,EAAKuB,cAAckB,MAAQ,KAC1B,MAEHkB,aAAaC,QAAQ,iBAArB,GAA0CpB,IAE1CvC,IAAO4D,MAAM,6BAA8B,aAG9CC,OAAM,SAAAD,GACLE,QAAQC,IAAIH,SCpClB7D,EAAKyB,QAAQW,iBAAiB,SAE9B,WACEpC,EAAKkB,YAAYgB,UAAUsB,OAAO,YAClCxD,EAAK2B,QAAQO,UAAUC,IAAI,YAC3BwB,aAAaM,WAAW,qB,IEQlBC,E,oBAAAA,EAAYP,aAAaQ,QAAQ,kBAEvCnC,EAAUiB,MAAK,SAAAC,GACTA,EAAKG,OAASa,IAChBjC,IACAjC,EAAK0B,aAAayB,YAAcD,EAAKE,c","file":"main.77aa9d15c95e93895405.js","sourcesContent":["const refs = {\r\n  loginWindow: document.querySelector('.login-window'),\r\n  verificationForm: document.querySelector('.verification-form'),\r\n  inputLogin: document.querySelector('#user-login'),\r\n  inputPassword: document.querySelector('#user-pass'),\r\n  verificationBtn: document.querySelector('.verification-form__btn'),\r\n  exitBtn: document.querySelector('.exit-btn'),\r\n  fullUserName: document.querySelector('.full-user-name'),\r\n  spinner: document.querySelector('.wrapper-spinner'),\r\n};\r\n\r\nexport default refs;\r\n","import toastr from 'toastr';\r\n\r\nconst toastrSettings = (toastr.options = {\r\n  closeButton: true,\r\n  debug: false,\r\n  newestOnTop: false,\r\n  progressBar: true,\r\n  positionClass: 'toast-top-right',\r\n  preventDuplicates: false,\r\n  onclick: null,\r\n  showDuration: '300',\r\n  hideDuration: '1000',\r\n  timeOut: '1000',\r\n  extendedTimeOut: '1000',\r\n  showEasing: 'swing',\r\n  hideEasing: 'linear',\r\n  showMethod: 'fadeIn',\r\n  hideMethod: 'fadeOut',\r\n});\r\n\r\nexport default toastrSettings;\r\n","import dataUsers from '../bd-json/bd-users.json';\r\nimport refs from './refs';\r\nimport toastr from 'toastr';\r\nimport { spinnerOn } from './spinner';\r\n\r\nexport { checkVerification, findLoginUser, addDesabledClassName };\r\n\r\nconst promiseLogin = new Promise((resolve, reject) => {\r\n  resolve(dataUsers);\r\n});\r\n\r\n/*\r\n  comment получает логин, ищет его в БД \r\n */\r\nfunction checkVerification(e) {\r\n  event.preventDefault();\r\n\r\n  const login = refs.inputLogin.value.toLowerCase();\r\n\r\n  promiseLogin\r\n    .then(res => findLoginUser(res))\r\n    .then(boolean => {\r\n      if (boolean) {\r\n        spinnerOn();\r\n        refs.inputLogin.desabled;\r\n        refs.inputPassword.desabled;\r\n\r\n        setTimeout(() => {\r\n          addDesabledClassName();\r\n\r\n          refs.inputLogin.value = '';\r\n          refs.inputPassword.value = '';\r\n        }, 1500);\r\n\r\n        localStorage.setItem('userNameOnline', `${login}`);\r\n      } else {\r\n        toastr.error('Не верный логин или пароль', 'Ошибка');\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n}\r\n\r\n/*\r\n  comment получает логин и пароль и сопоставляет введенные данные с БД\r\n */\r\nfunction findLoginUser(arr) {\r\n  const login = refs.inputLogin.value.toLowerCase();\r\n  const password = refs.inputPassword.value;\r\n\r\n  let isLoginOk = false;\r\n  let isPasswordOk = false;\r\n\r\n  arr.find(elem => {\r\n    refs.fullUserName.textContent = elem.fullName;\r\n    return elem.name === login ? (isLoginOk = true) : isLoginOk;\r\n  });\r\n\r\n  arr.find(elem => {\r\n    return elem.password === password ? (isPasswordOk = true) : isPasswordOk;\r\n  });\r\n\r\n  return isLoginOk && isPasswordOk ? true : false;\r\n}\r\n\r\nfunction addDesabledClassName() {\r\n  refs.loginWindow.classList.add('desabled');\r\n}\r\n","import refs from './refs';\r\nimport { checkVerification } from './verification';\r\n\r\nrefs.verificationBtn.addEventListener('click', checkVerification);\r\nrefs.exitBtn.addEventListener('click', exitOfProgram);\r\n\r\nfunction exitOfProgram() {\r\n  refs.loginWindow.classList.remove('desabled');\r\n  refs.spinner.classList.add('desabled');\r\n  localStorage.removeItem('userNameOnline');\r\n}\r\n","// .spinner:after\r\nimport refs from './refs';\r\n\r\nfunction spinnerOn() {\r\n  refs.spinner.classList.remove('desabled');\r\n}\r\n\r\nexport { spinnerOn };\r\n","import toastr from 'toastr';\r\nimport toastrSettings from './js/toaster-settings';\r\nimport handlers from './js/handlers';\r\n\r\nimport './css/styles.css';\r\nimport 'toastr/build/toastr.css';\r\n\r\n// const debounce = require('lodash.debounce');\r\n\r\n/*\r\ncomment\r\nПроверяет LocalStorage на наличие Пользователя\r\n*/\r\nimport refs from './js/refs';\r\nimport dataUsers from './bd-json/bd-users.json';\r\nimport { addDesabledClassName } from './js/verification';\r\nfunction getUserOfLocalStorage() {\r\n  const localUser = localStorage.getItem('userNameOnline');\r\n\r\n  dataUsers.find(elem => {\r\n    if (elem.name === localUser) {\r\n      addDesabledClassName();\r\n      refs.fullUserName.textContent = elem.fullName;\r\n    }\r\n  });\r\n}\r\n\r\ngetUserOfLocalStorage();\r\n"],"sourceRoot":""}